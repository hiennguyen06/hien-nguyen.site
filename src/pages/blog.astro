---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
import TagsList from "../components/TagsList.astro";

const allBlogPosts = await getCollection("blog");
---

<Layout title="Blog">
  <TagsList />
  <ul class="flex flex-col gap-4">
    {
      allBlogPosts.map((post: any) => (
        <li class="border rounded-md border-gray-300 p-4">
          <a href={`/posts/${post.id}`}>
            <article class="">
              <span class="text-gray-400 text-sm">
                {new Date(post.data.pubDate).toLocaleDateString("en-US", {
                  day: "numeric",
                  month: "numeric",
                  year: "numeric",
                })}
              </span>
              <h2>{post.data.title}</h2>
            </article>
          </a>
          {/* <ul class="flex gap-2 text-sm justify-end">
            {post.data.tags.map((tag: string) => (
              <li>
                <a class=" text-gray-400" href={`/tags/${tag}`}>
                  {tag}
                </a>
              </li>
            ))}
          </ul> */}
        </li>
      ))
    }
  </ul>
</Layout>
