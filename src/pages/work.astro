---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
console.log(projects);

interface Project {
  id: string;
  data: {
    title: string;
    image: string;
    tags: string[];
  };
}
---

<Layout title="Work">
  <ul class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
    {
      projects.map((project: Project) => {
        return (
          <li class="flex flex-col gap-4">
            <div class="relative aspect-[4/3] w-full overflow-hidden">
              <img
                src={project.data.image}
                alt={project.data.title}
                class="absolute inset-0 object-cover w-full h-full"
              />
            </div>
            <div class="">
              <a href={project.id}>{project.data.title}</a>
              <ul class="flex gap-2 text-sm">
                {project.data.tags.map((tag: string) => {
                  return <li class="text-sm text-gray-500">{tag}</li>;
                })}
              </ul>
            </div>
          </li>
        );
      })
    }
  </ul>
</Layout>
